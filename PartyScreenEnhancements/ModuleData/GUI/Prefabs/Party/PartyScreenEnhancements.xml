<Prefab>
	<Constants>
	</Constants>
	<Variables>
	</Variables>
	<VisualDefinitions>
		<VisualDefinition Name="TopMenu" TransitionDuration="0.2">
			<VisualState PositionYOffset="0" State="Default" />
		</VisualDefinition>
	</VisualDefinitions>
	<Window>
		<Widget Id="EnhancementScreenTopBar" VisualDefinition="TopMenu" WidthSizePolicy="Fixed" HeightSizePolicy="StretchToParent"
		        SuggestedWidth="650" HorizontalAlignment="Right" VerticalAlignment="Top" MarginTop="30"
		        DoNotAcceptEvents="true">
			<Children>
				<RecruitAllPrisonersWidget DataSource="{RecruitAllPrisoners}" Id="RecruitAllPrisonersButton"
				                           DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
				                           HeightSizePolicy="Fixed" SuggestedWidth="50"
				                           SuggestedHeight="50" HorizontalAlignment="Right"
				                           VerticalAlignment="Top" MarginRight="10"
				                           MarginTop="10" Brush="Party.Enhancement.ButtonBackground" Command.Click="RecruitAll">
					<Children>
						<HintWidget DataSource="{RecruitHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent"
									Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
						<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="40" DoNotAcceptEvents="false"
								SuggestedHeight="40" HorizontalAlignment="Center" MarginTop="0"
								VerticalAlignment="Center" MarginLeft="4" IsDisabled="false" Brush="Party.Enhancement.RecruitPrisoners" />
					</Children>
				</RecruitAllPrisonersWidget>

				<SortAllTroopsWidget DataSource="{SortAllTroops}" Id="SortAllTroopsWidget" DoNotPassEventsToChildren="true"
									 WidthSizePolicy="Fixed"
									 HeightSizePolicy="Fixed" SuggestedWidth="52"
									 SuggestedHeight="52" HorizontalAlignment="Right"
									 VerticalAlignment="Top" MarginRight="60"
									 MarginTop="10" Brush="Party.Enhancement.ButtonBackground" Command.Click="SortTroops">
					<Children>
						<HintWidget DataSource="{SortHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent"
						            Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
						<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="50" DoNotAcceptEvents="false"
						        SuggestedHeight="50" HorizontalAlignment="Center" MarginTop="2"
						        VerticalAlignment="Center" MarginRight="0" IsDisabled="false" Brush="Party.Enhancement.SortParty" />
					</Children>
				</SortAllTroopsWidget>

				<UpgradeAllTroopsWidget DataSource="{UpgradeAllTroops}" Id="UpgradeAllTroopsButton"
				                        DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
				                        HeightSizePolicy="Fixed" SuggestedWidth="52"
				                        SuggestedHeight="52" HorizontalAlignment="Right"
				                        VerticalAlignment="Top" MarginRight="110"
				                        MarginTop="10" Brush="Party.Enhancement.ButtonBackground" Command.Click="UpgradeAllTroopsPath">
					<Children>
						<HintWidget DataSource="{UpgradeHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent"
						            Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
						<Widget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="50" DoNotAcceptEvents="false"
						        SuggestedHeight="50" HorizontalAlignment="Center" MarginTop="0"
						        VerticalAlignment="Center" MarginRight="0" IsDisabled="false" Brush="Party.Enhancement.UpgradeAll" />
					</Children>
				</UpgradeAllTroopsWidget>

				<ButtonWidget Id="OpenSettings" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
				              HeightSizePolicy="Fixed" SuggestedWidth="45"
				              SuggestedHeight="45" HorizontalAlignment="Left"
				              VerticalAlignment="Top" MarginLeft="15"
				              MarginTop="12" Brush="Party.Enhancement.Settings" Command.Click="OpenSettingView">
					<Children>
						<HintWidget DataSource="{SettingHint}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent"
						            Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint" />
					</Children>
				</ButtonWidget>

				<Widget DataSource="{UnitTally}" DoNotAcceptEvents="true" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed"
				        HeightSizePolicy="Fixed" SuggestedWidth="200"
				        SuggestedHeight="180" HorizontalAlignment="Right"
				        VerticalAlignment="Bottom" MarginRight="670" MarginBottom="50" IsVisible="@IsEnabled">
					<Children>
						<ListPanel Id="UnitTallyList" DoNotAcceptEvents="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" LayoutImp.LayoutMethod="VerticalBottomToTop">
							<Children>
								<Widget Id="InfantryLabelWidget" WidthSizePolicy="CoverChildren"
								        HeightSizePolicy="Fixed" SuggestedWidth="50"
								        SuggestedHeight="40" HorizontalAlignment="Right"
								        VerticalAlignment="Top">
									<Children>
										<RichTextWidget isVisible="@IsEnabled"  WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" VerticalAlignment="Center"
										                Brush="Recruitment.Popup.Title.Text"
										                Text="@InfantryLabel" Brush.FontSize="22" isDisabled="true" />
									</Children>
								</Widget>
								<Widget Id="ArchersLabelWidget" isVisible="@IsEnabled" WidthSizePolicy="CoverChildren"
								        HeightSizePolicy="Fixed" SuggestedWidth="50"
								        SuggestedHeight="40" HorizontalAlignment="Center"
								        VerticalAlignment="Center">
									<Children>
										<RichTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" VerticalAlignment="Center"
										                Brush="Recruitment.Popup.Title.Text"
										                Text="@ArchersLabel" Brush.FontSize="22" />
									</Children>
								</Widget>
								<Widget Id="CavalryLabelWidget" isVisible="@IsEnabled" WidthSizePolicy="CoverChildren"
								        HeightSizePolicy="Fixed" SuggestedWidth="50"
								        SuggestedHeight="40" HorizontalAlignment="Center"
								        VerticalAlignment="Center">
									<Children>
										<RichTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" VerticalAlignment="Center"
										                Brush="Recruitment.Popup.Title.Text"
										                Text="@CavalryLabel" Brush.FontSize="22" />
									</Children>
								</Widget>
								<Widget Id="HorseArchersLabelWidget" isVisible="@IsEnabled" WidthSizePolicy="CoverChildren"
								        HeightSizePolicy="Fixed" SuggestedWidth="50"
								        SuggestedHeight="40" HorizontalAlignment="Center"
								        VerticalAlignment="Bottom">
									<Children>
										<RichTextWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" VerticalAlignment="Center"
										                Brush="Recruitment.Popup.Title.Text"
										                Text="@HorseArcherLabel" Brush.FontSize="22" />
									</Children>
								</Widget>
							</Children>
						</ListPanel>
					</Children>
				</Widget>

			</Children>
		</Widget>
	</Window>
</Prefab>